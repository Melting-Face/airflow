version: 2

sources:
  - name: price
    tables:
      - name: item
        external:
          location: 's3a://warehouse/price_item.parquet'
          using: parquet
        columns:
          - name: id
            data_type: bigint
          - name: country_id
            data_type: varchar(2)
          - name: product_raw
            data_type: string
          - name: source_id
            data_type: bigint
        partitions:
          - name: country_id
            data_type: varchar(2)

      - name: itemunit
        external:
          location: 's3a://warehouse/price_itemunit.parquet'
          using: parquet
        columns:
          - name: id
            data_type: bigint
          - name: unit
            data_type: varchar(1)
          - name: unit_raw
            data_type: string
          - name: unit_rate
            data_type: decimal(20, 9)
          - name: unit_label
            data_type: string
          - name: item_id
            data_type: bigint
          - name: evaluation_memo
            data_type: string
          - name: evaluator_staff_id
            data_type: bigint
          - name: submitter_staff_id
            data_type: bigint
          - name: status
            data_type: varchar(1)
        partitions:
          - name: status
            data_type: varchar(1)
